@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════
   MADISON - BRAND DESIGN SYSTEM
   Premium brand intelligence platform color palette
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  :root {
    /* ══════════════════════════════════════════════════════════════════════
       MADISON STUDIO - THE CODEX DESIGN SYSTEM
       Premium brand intelligence platform - Refined color palette
       Philosophy: Elegant restraint, Madison Avenue sophistication
       ══════════════════════════════════════════════════════════════════════ */
    
    /* ──────────────────────────────────────────────────────────────────────
       CORE NEUTRALS (4 colors)
       ────────────────────────────────────────────────────────────────────── */
    --ink-black-hex: #1A1816;            /* Primary text, headers, high contrast */
    --charcoal-hex: #2F2A26;             /* Secondary text, supporting elements */
    --vellum-cream-hex: #F5F1E8;         /* Primary background (the "paper") */
    --parchment-white-hex: #FFFCF5;      /* Cards, elevated surfaces */
    
    /* ──────────────────────────────────────────────────────────────────────
       ACCENT COLORS (2 colors)
       ────────────────────────────────────────────────────────────────────── */
    --aged-brass-hex: #B8956A;           /* Interactive elements, borders on hover */
    /* DEPRECATED: --brass-glow-hex: #D4AF37; */ 
    /* Mapped to aged-brass for consistency */
    --brass-glow-hex: #B8956A;           
    
    /* ──────────────────────────────────────────────────────────────────────
       FUNCTIONAL COLORS (3 colors - Minimal Use)
       ────────────────────────────────────────────────────────────────────── */
    --muted-sage-hex: #8B9474;           /* Success/Approval (not bright green) */
    --aged-amber-hex: #C4975C;           /* Warning/Attention (not bright orange) */
    --faded-rust-hex: #A85C5C;           /* Error/Deletion (not bright red) */
    
    /* ──────────────────────────────────────────────────────────────────────
       FORM/UI SUPPORT (1 color)
       ────────────────────────────────────────────────────────────────────── */
    --stone-hex: #E5DFD1;                /* Default input borders, subtle dividers */
    
    /* ──────────────────────────────────────────────────────────────────────
       PLATFORM BADGES (Derivative types ONLY - Small badges/icons)
       Use sparingly: Never for large UI elements, only tiny indicators
       ────────────────────────────────────────────────────────────────────── */
    --derivative-email: 210 71% 58%;        /* #4A90E2 - Muted blue */
    --derivative-instagram: 258 90% 66%;    /* #8B5CF6 - Muted purple */
    --derivative-twitter: 199 89% 60%;      /* #38BDF8 - Sky blue */
    --derivative-product: 25 95% 53%;       /* #F97316 - Muted orange */
    --derivative-sms: 160 84% 39%;          /* #10B981 - Muted green */
    
    /* ──────────────────────────────────────────────────────────────────────
       SEMANTIC COLOR TOKENS (Shadcn/UI compatibility)
       Mapped to Madison Studio core palette
       ────────────────────────────────────────────────────────────────────── */
    
    /* Background & Foreground */
    --background: 42 38% 93%;        /* Vellum Cream - #F5F1E8 (the "paper") */
    --foreground: 30 3% 10%;         /* Ink Black - #1A1816 (primary text) */

    /* Cards & Elevated Surfaces */
    --card: 48 100% 98%;             /* Parchment White - #FFFCF5 */
    --card-foreground: 30 3% 10%;    /* Ink Black - #1A1816 */

    /* Popovers & Dropdowns */
    --popover: 48 100% 98%;          /* Parchment White - #FFFCF5 */
    --popover-foreground: 30 3% 10%; /* Ink Black - #1A1816 */

    /* Primary Actions (Brass) */
    --primary: 38 33% 56%;           /* Aged Brass - #B8956A */
    --primary-foreground: 48 100% 98%; /* Parchment White - #FFFCF5 */

    /* Secondary Actions */
    --secondary: 42 38% 93%;         /* Vellum Cream - #F5F1E8 */
    --secondary-foreground: 30 3% 10%; /* Ink Black - #1A1816 */

    /* Muted Elements */
    --muted: 42 38% 93%;             /* Vellum Cream - #F5F1E8 */
    --muted-foreground: 20 8% 17%;   /* Charcoal - #2F2A26 */

    /* Accent Elements (NOW MAPPED TO AGED BRASS) */
    --accent: 38 33% 56%;            /* Aged Brass - #B8956A (Was Brass Glow) */
    --accent-foreground: 30 3% 10%;  /* Ink Black - #1A1816 */

    /* Destructive Actions */
    --destructive: 0 30% 51%;        /* Faded Rust - #A85C5C */
    --destructive-foreground: 48 100% 98%; /* Parchment White - #FFFCF5 */

    /* Borders & Inputs */
    --border: 40 31% 85%;            /* Stone - #E5DFD1 (subtle dividers) */
    --input: 40 31% 85%;             /* Stone - #E5DFD1 (default border) */
    --ring: 38 33% 56%;              /* Aged Brass - #B8956A (Was Brass Glow) */

    --radius: 0.25rem;               /* 4px - Sharp, editorial corners */

    /* ──────────────────────────────────────────────────────────────────────
       SOPHISTICATED SHADOW SYSTEM
       Premium depth with subtle brass undertones for luxury feel
       ────────────────────────────────────────────────────────────────────── */
    
    /* Level 1: Resting cards - Subtle lift with brass rim */
    --shadow-level-1: 
      0 1px 3px rgba(26, 24, 22, 0.08),
      0 1px 2px rgba(26, 24, 22, 0.06),
      0 0 0 1px rgba(184, 149, 106, 0.03);
    
    /* Level 2: Hover, slight elevation - Brass undertone */
    --shadow-level-2:
      0 3px 8px rgba(26, 24, 22, 0.12),
      0 1px 3px rgba(184, 149, 106, 0.08);
    
    /* Level 3: Modals, dropdowns - Brass depth */
    --shadow-level-3:
      0 8px 24px rgba(26, 24, 22, 0.15),
      0 2px 6px rgba(184, 149, 106, 0.12);
    
    /* Level 4: Maximum elevation - Maximum brass glow */
    --shadow-level-4:
      0 16px 48px rgba(26, 24, 22, 0.20),
      0 4px 12px rgba(184, 149, 106, 0.15);
    
    /* Brass Glow: Focus/active states, primary CTAs */
    --shadow-brass-glow:
      0 0 0 3px rgba(184, 149, 106, 0.15),
      0 4px 16px rgba(184, 149, 106, 0.25);

    /* ──────────────────────────────────────────────────────────────────────
       GRADIENT SYSTEM - Madison Depth and Richness
       ────────────────────────────────────────────────────────────────────── */
    --gradient-nav: linear-gradient(180deg, #1A1816 0%, #2F2A26 100%);
    --gradient-card: radial-gradient(circle at top left, #FFFCF5 0%, #F5F1E8 100%);
    --gradient-brass: linear-gradient(135deg, #B8956A 0%, #C4B5A0 100%); /* Updated to Brass -> Stone */
    
    /* ──────────────────────────────────────────────────────────────────────
       EASING CURVES - Purposeful, Sophisticated Motion
       ────────────────────────────────────────────────────────────────────── */
    --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-quick: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-deliberate: cubic-bezier(0.4, 0, 0.2, 1);
    
    --transition-quick: all 150ms var(--ease-quick);
    --transition-standard: all 300ms var(--ease-standard);
    --transition-deliberate: all 400ms var(--ease-deliberate);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }
}

@layer components {
  /* ───────────────────────────────────────────────────────────────────────
     BUTTON COMPONENTS
     ─────────────────────────────────────────────────────────────────────── */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-brand-brass focus:ring-offset-2 disabled:opacity-40 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply bg-brand-brass text-brand-parchment shadow-level-1 hover:bg-brand-brass/90 hover:shadow-level-2 hover:-translate-y-0.5 active:translate-y-0;
  }

  .btn-secondary {
    @apply bg-brand-vellum text-brand-ink border border-brand-stone shadow-level-1 hover:border-brand-brass/40 hover:shadow-sm hover:-translate-y-0.5 active:translate-y-0;
  }

  /* ───────────────────────────────────────────────────────────────────────
     FORM COMPONENTS
     ─────────────────────────────────────────────────────────────────────── */
  .input {
    @apply flex h-10 w-full rounded-md border border-brand-stone bg-brand-parchment px-3 py-2 text-sm text-brand-ink ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-brand-charcoal/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-brass focus-visible:border-brand-brass disabled:cursor-not-allowed disabled:opacity-40;
  }

  .label {
    @apply text-sm font-medium leading-none text-brand-ink peer-disabled:cursor-not-allowed peer-disabled:opacity-40;
  }

  .textarea {
    @apply flex min-h-[80px] w-full rounded-md border border-brand-stone bg-brand-parchment px-3 py-2 text-sm text-brand-ink ring-offset-background placeholder:text-brand-charcoal/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-brass focus-visible:border-brand-brass disabled:cursor-not-allowed disabled:opacity-40;
  }

  .select {
    @apply flex h-10 w-full rounded-md border border-brand-stone bg-brand-parchment px-3 py-2 text-sm text-brand-ink ring-offset-background placeholder:text-brand-charcoal/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-brass focus-visible:border-brand-brass disabled:cursor-not-allowed disabled:opacity-40;
  }

  /* ───────────────────────────────────────────────────────────────────────
     OVERLAY COMPONENTS
     ─────────────────────────────────────────────────────────────────────── */
  .popover-content {
    @apply z-50 w-72 rounded-md border border-brand-stone bg-brand-parchment p-4 text-brand-ink shadow-level-3 outline-none;
  }

  .card {
    @apply rounded-md border border-brand-stone/50 bg-brand-parchment text-brand-ink shadow-level-1;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PROSE STYLES - Content Editor Formatting
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  .prose {
    color: hsl(var(--foreground));
    max-width: 65ch;
  }

  .prose p {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    line-height: 1.75;
  }

  .prose p:first-child {
    margin-top: 0;
  }

  .prose h1 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2.25em;
    margin-top: 0;
    margin-bottom: 0.8888889em;
    line-height: 1.1111111;
    font-weight: 600;
    color: #1A1816; /* Ink Black */
  }

  .prose h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.5em;
    margin-top: 2em;
    margin-bottom: 1em;
    line-height: 1.3333333;
    font-weight: 600;
    color: #1A1816; /* Ink Black */
  }

  .prose h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.25em;
    margin-top: 1.6em;
    margin-bottom: 0.6em;
    line-height: 1.6;
    font-weight: 500;
    color: #1A1816; /* Ink Black */
  }

  .prose strong {
    font-weight: 600;
    color: #1A1816; /* Ink Black */
  }

  .prose em {
    font-style: italic;
  }

  .prose ul {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1.625em;
  }

  .prose ol {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1.625em;
  }

  .prose li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .prose blockquote {
    font-style: italic;
    border-left: 3px solid #B8956A; /* Aged Brass */
    padding-left: 1em;
    margin: 1.6em 0;
    color: #2F2A26; /* Charcoal */
  }
}

/* Editor content styles - Comprehensive formatting */
@layer components {
  /* Lists */
  .editor-content ul { list-style: disc; padding-left: 1.5rem; margin: 0.75rem 0; }
  .editor-content ol { list-style: decimal; padding-left: 1.5rem; margin: 0.75rem 0; }
  .editor-content li { margin: 0.25rem 0; }
  
  /* Block Quotes - Editorial styling */
  .editor-content blockquote {
    font-style: italic;
    border-left: 4px solid #B8956A;
    padding: 1rem 1.25rem;
    margin: 1.5rem 0;
    background: rgba(184, 149, 106, 0.08);
    border-radius: 0 0.5rem 0.5rem 0;
    color: #2F2A26;
  }
  
  .editor-content blockquote p {
    margin: 0;
  }
  
  /* Links */
  .editor-content a {
    color: #B8956A;
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.2s ease;
  }
  
  .editor-content a:hover {
    color: #8B7355;
  }
  
  /* Strikethrough */
  .editor-content s,
  .editor-content strike {
    text-decoration: line-through;
    opacity: 0.7;
  }
  
  /* Headings inside editor */
  .editor-content h1 {
    font-size: 2rem;
    font-weight: 600;
    margin: 1.5rem 0 1rem;
    line-height: 1.2;
  }
  
  .editor-content h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 1.25rem 0 0.75rem;
    line-height: 1.3;
  }
  
  .editor-content h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 1rem 0 0.5rem;
    line-height: 1.4;
  }
  
  /* Paragraphs */
  .editor-content p {
    margin: 0.75rem 0;
  }
  
  .editor-content p:first-child {
    margin-top: 0;
  }
}
@keyframes slide-down {
  0% {
    opacity: 0;
    transform: translateY(-10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-down {
  animation: slide-down 0.3s ease-out forwards;
}

/* ═══════════════════════════════════════════════════════════════════════════
   FULL-SCREEN HERO SECTION
   ═══════════════════════════════════════════════════════════════════════════ */

.hero-full-screen {
  position: relative;
  width: 100vw;
  height: 100vh;
  min-height: 700px;
  overflow: hidden;
}

/* Background Image - Full Coverage */
.hero-background {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Gradient Overlay - Dark left, transparent right */
.hero-overlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  background: linear-gradient(
    to right,
    rgba(26, 24, 22, 0.88) 0%,      /* Dark ink black - left side */
    rgba(26, 24, 22, 0.68) 25%,     /* Medium dark */
    rgba(26, 24, 22, 0.38) 45%,     /* Light overlay */
    rgba(26, 24, 22, 0.18) 60%,     /* Very light */
    transparent 75%                  /* Fully transparent right */
  );
}

/* Content Layer - Text on top */
.hero-content {
  position: relative;
  z-index: 2;
  height: 100%;
  display: flex;
  align-items: center;
  padding-left: 8%;        /* LEFT POSITIONING */
  padding-right: 15%;      /* RIGHT MARGIN */
  justify-content: flex-start; /* LEFT ALIGNMENT */
}

.hero-container {
  max-width: 1280px;
  margin: 0 auto;
  width: 100%;
}

.hero-text-block {
  max-width: 600px;        /* CONSTRAINS WIDTH */
  padding-top: 60px;       /* VERTICAL POSITION */
  padding-right: 60px;
}

/* Headline Styling */
.hero-headline {
  font-family: 'Cormorant Garamond', serif;
  font-size: 64px;
  font-weight: 600;
  line-height: 1.1;
  letter-spacing: -0.02em;
  color: hsl(48, 100%, 99%);
  margin-bottom: 20px;
}

/* Gold "Craft Their Narrative" */
.headline-accent {
  display: block;
  font-size: 72px;
  color: hsl(42, 77%, 75%);
  margin-top: 4px;
  text-shadow: 0 0 30px rgba(184, 149, 106, 0.4);
}

/* Subheadline */
.hero-subheadline {
  font-family: 'Lato', sans-serif;
  font-size: 20px;
  line-height: 1.6;
  color: hsl(48, 100%, 95%);
  margin-bottom: 36px;
  max-width: 560px;
}

/* Buttons */
.hero-ctas {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
}

.btn-primary-brass {
  padding: 18px 48px;
  font-size: 19px;
  background: linear-gradient(135deg, #B8956A 0%, #C4B5A0 100%);
  color: hsl(26, 6%, 9%);
  border: none;
  border-radius: 8px;
  font-family: 'Cormorant Garamond', serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(184, 149, 106, 0.3);
}

.btn-primary-brass:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(184, 149, 106, 0.5);
  background: linear-gradient(135deg, #C4B5A0 0%, #B8956A 100%);
}

.btn-secondary-ghost {
  padding: 18px 48px;
  font-size: 19px;
  background: transparent;
  color: hsl(48, 100%, 99%);
  border: 2px solid hsl(48, 100%, 99%);
  border-radius: 8px;
  font-family: 'Cormorant Garamond', serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(8px);
}

/* Scroll Indicator */
.scroll-indicator {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 3;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  color: hsl(48, 100%, 95%);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  opacity: 0.7;
  animation: bounce-hero 2s infinite;
}

@keyframes bounce-hero {
  0%, 100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-10px);
  }
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .hero-full-screen {
    min-height: 600px;
  }
  
  .hero-text-block {
    padding-right: 20px;
    max-width: 100%;
  }
  
  .hero-overlay {
    background: linear-gradient(
      to bottom,
      rgba(26, 24, 22, 0.75) 0%,
      rgba(26, 24, 22, 0.65) 40%,
      rgba(26, 24, 22, 0.85) 100%
    );
  }
  
  .hero-ctas {
    flex-direction: column;
    align-items: stretch;
  }
  
  .btn-primary-brass,
  .btn-secondary-ghost {
    width: 100%;
    text-align: center;
  }

  /* Hide scrollbar but allow scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   MOBILE NAVIGATION SYSTEM
   Bottom nav with FAB - Safe area support and smooth animations
   ═══════════════════════════════════════════════════════════════════════════ */

/* Mobile Safe Area Support */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Ensure main content doesn't hide behind bottom nav on mobile */
@media (max-width: 767px) {
  .main-content {
    padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
  }
}

/* Smooth FAB animations */
@keyframes slide-in-from-bottom-2 {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-in-from-bottom-2 {
  animation: slide-in-from-bottom-2 0.2s ease-out;
}

/* Bottom nav haptic feedback simulation */
.nav-item:active {
  transform: scale(0.95);
  transition: transform 0.1s ease;
}

/* ══════════════════════════════════════════════════════════════════════════
   DASHBOARD ANIMATIONS
   Smooth, staggered animations for dashboard components
   ══════════════════════════════════════════════════════════════════════════ */

/* Fade in animation for dashboard */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

/* Staggered card animations */
@keyframes slide-up-fade {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up-fade 0.4s ease-out forwards;
}

/* Stagger delays for dashboard cards */
.stagger-1 { animation-delay: 0ms; }
.stagger-2 { animation-delay: 50ms; }
.stagger-3 { animation-delay: 100ms; }
.stagger-4 { animation-delay: 150ms; }
.stagger-5 { animation-delay: 200ms; }
.stagger-6 { animation-delay: 250ms; }

/* Smooth collapse animation */
@keyframes collapse-in {
  from {
    opacity: 0;
    max-height: 0;
    padding-top: 0;
    padding-bottom: 0;
  }
  to {
    opacity: 1;
    max-height: 500px;
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
}

.animate-collapse-in {
  animation: collapse-in 0.3s ease-out forwards;
  overflow: hidden;
}

/* Progress bar animation */
@keyframes progress-fill {
  from {
    width: 0;
  }
}

.animate-progress {
  animation: progress-fill 0.8s ease-out forwards;
}

/* Pulse animation for CTAs */
@keyframes subtle-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(184, 149, 106, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(184, 149, 106, 0);
  }
}

.animate-subtle-pulse {
  animation: subtle-pulse 2s ease-in-out infinite;
}

/* Hover lift effect for cards */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Skeleton shimmer effect */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton-shimmer {
  background: linear-gradient(
    90deg,
    #f0f0f0 25%,
    #e0e0e0 50%,
    #f0f0f0 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Hide scrollbar for horizontal scroll on mobile */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ═══════════════════════════════════════════════════════════════════════════
   DEVELOPING ANIMATION - Chemical Bath Photo Development Effect
   Darkroom-inspired animation for image generation reveal
   ═══════════════════════════════════════════════════════════════════════════ */

.developing-animation {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 200px;
  overflow: hidden;
  border-radius: 8px;
  background: linear-gradient(
    180deg,
    rgba(26, 24, 22, 0.95) 0%,
    rgba(47, 42, 38, 0.98) 100%
  );
}

.developing-animation--compact {
  min-height: 120px;
}

/* Chemical Bath Container */
.chemical-bath {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Developing Image */
.developing-image-container {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.developing-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 4px;
}

/* ───────────────────────────────────────────────────────────────────────
   CAUSTIC LIGHT PATTERNS - Underwater light refraction effect
   ─────────────────────────────────────────────────────────────────────── */

.caustic-layer {
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
  mix-blend-mode: overlay;
}

.caustic-pattern {
  position: absolute;
  inset: 0;
  background-size: 200% 200%;
}

.caustic-1 {
  background-image: 
    radial-gradient(ellipse 60% 40% at 30% 40%, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse 50% 50% at 70% 60%, rgba(255, 255, 255, 0.12) 0%, transparent 45%),
    radial-gradient(ellipse 40% 60% at 50% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 55%);
}

.caustic-2 {
  background-image: 
    radial-gradient(ellipse 45% 55% at 60% 35%, rgba(184, 149, 106, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse 55% 45% at 40% 65%, rgba(184, 149, 106, 0.1) 0%, transparent 45%);
}

.caustic-3 {
  background-image: 
    radial-gradient(ellipse 70% 30% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, transparent 60%);
}

/* ───────────────────────────────────────────────────────────────────────
   LIQUID SURFACE - Chemical bath surface with ripples
   ─────────────────────────────────────────────────────────────────────── */

.liquid-surface-container {
  position: absolute;
  inset: 0;
  z-index: 4;
  pointer-events: none;
  overflow: hidden;
}

.liquid-surface {
  position: absolute;
  inset: 0;
  background: 
    linear-gradient(
      0deg,
      rgba(139, 90, 43, 0.15) 0%,
      rgba(139, 90, 43, 0.08) 30%,
      transparent 60%
    ),
    linear-gradient(
      90deg,
      transparent 0%,
      rgba(184, 149, 106, 0.05) 25%,
      rgba(184, 149, 106, 0.08) 50%,
      rgba(184, 149, 106, 0.05) 75%,
      transparent 100%
    );
  background-size: 100% 100%, 200% 100%;
}

/* Ripple rings radiating from center */
.ripple-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100px;
  height: 100px;
  margin: -50px 0 0 -50px;
  border: 1px solid rgba(184, 149, 106, 0.3);
  border-radius: 50%;
  pointer-events: none;
}

/* ───────────────────────────────────────────────────────────────────────
   FILM GRAIN OVERLAY - Authentic darkroom texture
   ─────────────────────────────────────────────────────────────────────── */

.film-grain-overlay {
  position: absolute;
  inset: 0;
  z-index: 5;
  pointer-events: none;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  animation: grain-shift 0.5s steps(10) infinite;
}

@keyframes grain-shift {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-1%, -1%); }
  20% { transform: translate(1%, 1%); }
  30% { transform: translate(-1%, 1%); }
  40% { transform: translate(1%, -1%); }
  50% { transform: translate(-1%, 0); }
  60% { transform: translate(1%, 0); }
  70% { transform: translate(0, 1%); }
  80% { transform: translate(0, -1%); }
  90% { transform: translate(1%, 1%); }
}

/* ───────────────────────────────────────────────────────────────────────
   DRIP EFFECT - Water droplets when image rises
   ─────────────────────────────────────────────────────────────────────── */

.drips-container {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 60px;
  z-index: 6;
  pointer-events: none;
}

.drip {
  position: absolute;
  bottom: 100%;
  width: 2px;
  background: linear-gradient(
    to bottom,
    rgba(184, 149, 106, 0.4) 0%,
    rgba(184, 149, 106, 0.2) 50%,
    transparent 100%
  );
  border-radius: 0 0 2px 2px;
}

/* ───────────────────────────────────────────────────────────────────────
   SAFE LIGHT GLOW - Red darkroom ambient light
   ─────────────────────────────────────────────────────────────────────── */

.safelight-glow {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background: radial-gradient(
    ellipse 80% 60% at 50% 30%,
    rgba(168, 92, 92, 0.08) 0%,
    transparent 70%
  );
}

/* ───────────────────────────────────────────────────────────────────────
   DEVELOPING TEXT - Status indicator
   ─────────────────────────────────────────────────────────────────────── */

.developing-text {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  font-family: 'Lato', sans-serif;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(184, 149, 106, 0.8);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.developing-animation--compact .developing-text {
  font-size: 11px;
  bottom: 12px;
}

/* ───────────────────────────────────────────────────────────────────────
   FRAME BORDER - Brass-accented container
   ─────────────────────────────────────────────────────────────────────── */

.developing-frame-border {
  position: absolute;
  inset: 0;
  z-index: 0;
  border: 2px solid rgba(184, 149, 106, 0.2);
  border-radius: 8px;
  pointer-events: none;
}

/* ───────────────────────────────────────────────────────────────────────
   PHASE-SPECIFIC STYLES
   ─────────────────────────────────────────────────────────────────────── */

.developing-animation--submerged .chemical-bath {
  background: linear-gradient(
    180deg,
    rgba(47, 42, 38, 0.4) 0%,
    rgba(139, 90, 43, 0.15) 100%
  );
}

.developing-animation--emerging .chemical-bath {
  background: linear-gradient(
    180deg,
    rgba(47, 42, 38, 0.2) 0%,
    transparent 100%
  );
}

.developing-animation--revealed .chemical-bath {
  background: transparent;
}

/* Revealed state - clean image display */
.developing-animation--revealed .developing-image {
  box-shadow: 
    0 4px 20px rgba(0, 0, 0, 0.3),
    0 0 40px rgba(184, 149, 106, 0.1);
}

/* ═══════════════════════════════════════════════════════════════════════════
   MADISON EDITOR - Tiptap-based Rich Text Editor
   Premium, minimal editorial styling
   ═══════════════════════════════════════════════════════════════════════════ */

/* Editor wrapper */
.madison-editor-wrapper {
  position: relative;
  width: 100%;
}

/* Editor content area */
.madison-editor {
  font-family: 'Cormorant Garamond', Georgia, serif;
  color: #1A1816; /* Ink Black */
  line-height: 1.8;
  letter-spacing: 0.01em;
}

/* Placeholder styling */
.madison-editor-empty::before {
  content: attr(data-placeholder);
  color: #9CA3AF;
  pointer-events: none;
  position: absolute;
  font-style: italic;
}

.madison-editor p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: rgba(47, 42, 38, 0.4); /* Charcoal 40% */
  pointer-events: none;
  float: left;
  height: 0;
  font-style: italic;
}

/* Focus state */
.madison-editor:focus {
  outline: none;
}

/* Headings - Editorial serif styling */
.madison-editor h2 {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.75rem;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3;
  color: #1A1816; /* Ink Black */
}

.madison-editor h3 {
  font-family: 'Cormorant Garamond', Georgia, serif;
  font-size: 1.375rem;
  font-weight: 500;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  line-height: 1.4;
  color: #1A1816; /* Ink Black */
}

/* Paragraphs */
.madison-editor p {
  margin-bottom: 1.25em;
}

.madison-editor p:last-child {
  margin-bottom: 0;
}

/* Bold */
.madison-editor strong {
  font-weight: 600;
  color: #1A1816; /* Ink Black */
}

/* Italic */
.madison-editor em {
  font-style: italic;
}

/* Lists */
.madison-editor ul {
  list-style-type: disc;
  padding-left: 1.5rem;
  margin: 1rem 0;
}

.madison-editor ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
  margin: 1rem 0;
}

.madison-editor li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.madison-editor li p {
  margin-bottom: 0;
}

/* Nested lists */
.madison-editor ul ul,
.madison-editor ol ol,
.madison-editor ul ol,
.madison-editor ol ul {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* Blockquote - Editorial styling */
.madison-editor blockquote,
.madison-editor .madison-blockquote {
  border-left: 3px solid #B8956A; /* Aged Brass */
  padding-left: 1.25rem;
  margin: 1.5rem 0;
  font-style: italic;
  color: #2F2A26; /* Charcoal */
  background: rgba(184, 149, 106, 0.05);
  padding: 1rem 1.25rem;
  border-radius: 0 0.25rem 0.25rem 0;
}

.madison-editor blockquote p {
  margin: 0;
}

/* Selection highlight */
.madison-editor ::selection {
  background: rgba(184, 149, 106, 0.25); /* Brass highlight */
}

/* Link styling */
.madison-editor a {
  color: #B8956A; /* Aged Brass */
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color 0.2s ease;
}

.madison-editor a:hover {
  color: #8B7355;
}

/* ───────────────────────────────────────────────────────────────────────
   FLOATING TOOLBAR STYLES
   ─────────────────────────────────────────────────────────────────────── */

/* Tiptap bubble menu container */
.tippy-box[data-theme~='madison'] {
  background-color: #FFFCF5; /* Parchment White */
  border: 1px solid #E5DFD1; /* Stone */
  border-radius: 0.5rem;
  box-shadow: 
    0 3px 8px rgba(26, 24, 22, 0.12),
    0 1px 3px rgba(184, 149, 106, 0.08);
}

.tippy-box[data-theme~='madison'] .tippy-content {
  padding: 0;
}

.tippy-box[data-theme~='madison'] .tippy-arrow::before {
  color: #FFFCF5;
}

/* ───────────────────────────────────────────────────────────────────────
   SLASH COMMAND MENU STYLES  
   ─────────────────────────────────────────────────────────────────────── */

.slash-command-menu {
  background: #FFFCF5; /* Parchment White */
  border: 1px solid #E5DFD1; /* Stone */
  border-radius: 0.5rem;
  box-shadow: 
    0 8px 24px rgba(26, 24, 22, 0.15),
    0 2px 6px rgba(184, 149, 106, 0.12);
  overflow: hidden;
  min-width: 280px;
}

.slash-command-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.625rem 0.75rem;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.slash-command-item:hover,
.slash-command-item.selected {
  background: #F5F1E8; /* Vellum Cream */
}

.slash-command-icon {
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #FFFCF5;
  border: 1px solid #E5DFD1;
  border-radius: 0.375rem;
}

.slash-command-label {
  font-weight: 500;
  color: #1A1816; /* Ink Black */
}

.slash-command-description {
  font-size: 0.75rem;
  color: #2F2A26; /* Charcoal */
}

/* ───────────────────────────────────────────────────────────────────────
   AI ACTION BUTTON STYLES
   ─────────────────────────────────────────────────────────────────────── */

.madison-ai-button {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.375rem 0.625rem;
  font-size: 0.8125rem;
  font-weight: 500;
  color: #B8956A; /* Aged Brass */
  background: transparent;
  border: none;
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.15s ease;
}

.madison-ai-button:hover {
  background: rgba(184, 149, 106, 0.1);
}

.madison-ai-button:active {
  background: rgba(184, 149, 106, 0.15);
}

.madison-ai-button svg {
  width: 0.875rem;
  height: 0.875rem;
}
